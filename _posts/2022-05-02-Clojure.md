---
layout: [post, post-xml]
title:  "Die Programmiersprache Clojure - ein neuer Wettbewerber in der Versicherungsbranche?"
date:   2022-05-02 12:00
modified_date: 2022-05-02 12:00
author_ids: [AdessoJuWa]
categories: [Softwareentwicklung]
tags: [Clojure, Architektur]
---

In kaum einem anderen Bereich setzt man mehr auf etablierte Technologien. Oder handelt es sich dabei um Gewohnheit, mangelnde Flexibilität oder vielleicht Angst vor etwas Neuem? Unter den zumeist eingesetzten Technologien sind JBoss oder auch TomEE bzw. JavaEE und Cobol sowie „R“.
Die Programmiersprache „R“, die im Jahr 1993 und damit rund 14 Jahre vor Clojure erschienen ist, hat sich im Versicherungssektor etabliert. „R“ wurde von Statistikern entwickelt. Damit ist im Gegensatz zu Clojure der Haupteinsatzzweck seinerzeit auf statistische Berechnungen und graphische Darstellung festgelegt.
Was genau ist Clojure und inwiefern ist sie eine ernst zu nehmende Konkurrenz für „R“?
Bei Clojure handelt es sich um einen modernen Lisp-Dialekt mit Unterstützung für interaktive Entwicklung. D.h. ihr könnt in einer Konsole Code direkt auf dem Interpreter ausführen mithilfe der REPL (Read, Eval, Print, Loop). Es ist eine vielseitige Sprache, die sowohl für Fullstack-Web-, als auch Mobile-Entwicklung, Scripting oder DSL eingesetzt wird. Der Grundgedanke bei der Entwicklung von Clojure war, den Prozess der Softwareentwicklung sowohl zu vereinfachen, als auch zu beschleunigen. Der Autor, Rich Hickey, hatte vor Clojures Entstehung C++ an der New York University gelehrt und an Informationssystemen gearbeitet, wo er viel mit Standardproblemen konfrontiert war, wie beispielsweise „gehört der Song zum Autor oder umgekehrt?“.
Die Sprache ist also im Vergleich zu „R“ sehr universell einsetzbar, u.a. da jede Java-Bibliothek verwendet werden kann. Voraussetzung dafür sind lediglich Grundkenntnisse in Java und OOP. Somit ist auch eine Integration von Clojure-Applikationen in die vorhandenen Systemlandschaften sehr einfach. Sie bietet im Vergleich zu den verbreitetsten Programmiersprachen wie Java, C++ und C# eine deutlich bessere Unterstützung für komplexe mathematische Berechnungen. Daher ist Clojure für die Finanz- und Versicherungsbranche besonders gut geeignet. Im Finanzsektor verbreitet sie sich aktuell zunehmend.
„R“ ist in den Bereichen Wirtschaft und Wissenschaft ebenfalls DIE Standardsprache, wenn es vor allem um statistische Problemstellungen geht. „R“´ ist ebenfalls von Haus aus sehr breit einsetzbar, da es (wie bspw. bei SPSS) Weiterentwicklungen für eine universelle Verwendbarkeit gab, doch man blieb stets auf den ursprünglichen Schwerpunkt fokussiert. Dass Clojure selbst keine graphische Unterstützung bietet, ist definitiv kein Nachteil gegenüber „R“, da eine Einbindung entsprechender Java-Bibliotheken, die in den letzten >15 Jahren entwickelt worden sind, zu diesem Zweck möglich ist. Hinter „R“ steht eine großartige Community, die selbst im Businessbereich ihresgleichen sucht, auch bei der Clojure-Community ist man aktiv dabei, diese weiter zu stärken.

## Zielgruppe

Da die bei den Versicherungen angestellten bzw. beauftragten Aktuare eher selten Programmierfähigkeiten besitzen, liegt die Zielgruppe eher bei der internen IT sowie bei den IT-Unternehmen, die den Versicherungsunternehmen Software bereitstellen oder deren Teams unterstützen. 

## Referenzen

Nennenswerte Unternehmen sind beispielsweise Walmart, die Citi Group und auch die NASA. Es gibt auch bereits kleinere wie auch größere Unternehmen in anderen Branchen, die Clojure von Beginn an eingesetzt oder dorthin gewechselt haben. 
Bei Walmart haben 8 Entwickler rund 20 Services entwickelt, die unter anderem jeden Einkauf aus über 5000 Filialen, den Webshops und Mobile-Apps erfassen und verwalten. Unter anderem werden Kassenbons für spätere Reklamationen und Umtausche gespeichert. Über die Projektdauer bietet die Quelle leider keine Infos. Man sagt bei Walmart allerdings, dass im Vergleich zu anderen Programmiersprachen um das 5-10-fache weniger Code geschrieben werden musste. Nach dem Rollout hatte das neue System einen Black Friday Ansturm angeblich schadlos überstanden.
Die Citi Group ist die größte Finanzgruppe der Welt und verwendet Clojure erfolgreich, um finanzielle Informationen zu erfassen mit dem Ziel, jederzeit einen Überblick über Investment und Risiken zu haben.
Die NASA hat ihr „Earth Science Data Information System (ESDIS) project“ und „Common Metadata Repository (CMR)“ mit Clojure realisiert. Ersteres stellt Informationen aus Beobachtungen unseres Planeten nicht nur der NASA selbst, sondern auch einer stetig wachsenden Community bereit. Diese umfasst längst nicht mehr nur Wissenschaftler, Regierungen und andere Entscheidungsträger, sondern auch die breite Öffentlichkeit. Zweites ist ein Repository für wissenschaftliche Metadaten für „NASA EOSDIS“. 
Ich gehe an dieser Stelle nicht zu sehr auf Details ein, sondern möchte anhand der Referenzen hervorheben, dass Clojure-Applikationen aus Erfahrung

*	mit deutlich weniger Code auskommen als bei Verwendung anderer Programmiersprachen
*	in der Entwicklung dadurch weniger Fehler/Bugs entstehen
*	performant riesige Datenmengen verarbeitet werden können
*	ein flexibler
*	und vor allem zuverlässiger Einsatz möglich ist
*	es große renommierte Unternehmen gibt, die Clojure bereits vertrauen.

(Quelle: https://cognitect.com/blog/2015/6/30/walmart-runs-clojure-at-scale)

## Einstieg in Clojure. Wie hoch ist die Hürde?

Erfahrungen mit LISP-Sprachen begünstigen den Einstieg sehr stark, die meisten Clojure-Entwickler haben allerdings einen Java-Hintergrund. Das mag daran liegen, dass Clojure-Applikationen ebenfalls auf der Java Virtual Machine laufen, wodurch auch dieselbe Plattformunabhängigkeit wie bei Java gegeben ist. Darüber hinaus gibt es eine JavaScript-Implementierung namens ClojureScript sowie eine CLR-Implementierung. Clojures Makrosystem ist mit dem anderer Lisp-Umgebungen vergleichbar. Wie viele andere funktionale Programmiersprachen, bilden unveränderliche Datentypen einen wesentlichen Bestandteil. Durch geschickte Implementierung wird allzu großer Kopier-Overhead vermieden. Ansonsten ähnelt das Typsystem dem von Java sehr stark. 

## Technisches

Es werden die aus Java bekannten Standard-Datentypen wie Long, Double, String, Boolean usw. angeboten.

```java
123 ; Long 1.23 ; Double "Hello" ; String true ; Boolean
```

* komplexe Datentypen sind mit speziellen Prä- und Suffixen ebenfalls möglich:

```java
42N ; clojure.lang.BigInt 3.14159M ; java.math.BigDecimal 1/3 ; clojure.lang.Ratio #"[A-Za-z]+" ; java.util.regex.Pattern
```

Ein HelloWorld-Programm für die REPL könnte z.B. so aussehen:

```java
(ns clojure.examples.hello
(:gen-class))

(defn sum-of-numbers [x y]
(println (format "x + y = %d" (+ x y))))

(sum-of-numbers 10 25)
```

## Unterstützte IDEs - TODO

## Performance

Was oft bemängelt wird, ist die lange Startzeit der Clojure-Applikationen, was daran liegt, dass sie auf der JVM laufen. Vergleichbare Systeme, die in Python oder Ruby geschrieben sind, starten oft in unter 100ms. Zur Laufzeit sollten Clojure-Systeme in der Geschwindigkeit mit Java-Systemen vergleichbar sein, eben wegen der Ausführung auf der JVM. Die Probleme aus den Anfängen von Java sind längst Geschichte, so dass man heute in Sachen Performance kaum noch einen Unterschied zu nativen Programmiersprachen messen kann. Tipps für Feintuning gibt es zuhauf im Web. Verbesserungsmöglichkeiten sind natürlich immer von der jeweils zugrunde liegenden Applikation abhängig, wie bei den anderen Sprachen auch.

## Support

Zusammen mit Cognitect bietet Rich Hickey technischen Support an.

## Über den Autor - TODO

Jürgen ist seit 2012 als Software-Entwickler und seit ??? als Senior-Software-Engineer tätig. Sein Schwerpunkt liegt auf ...
Darüber hinaus beschäftigt er sich intensiv mit …

## Quellen:

https://www.heise.de/hintergrund/Parallelprogrammierung-mit-Clojure-1170690.html
https://stats.stackexchange.com/questions/130/clojure-versus-r-advantages-and-disadvantages-for-data-analysis
https://qastack.com.de/stats/130/clojure-versus-r-advantages-and-disadvantages-for-data-analysis
https://de.wikipedia.org/wiki/Clojure
https://de.wikipedia.org/wiki/R_(Programmiersprache)
https://clojurebridgelondon.github.io/workshop/introducing-clojure/who-uses-clojure.html
https://cognitect.com/blog/2015/6/30/walmart-runs-clojure-at-scale
https://building.nubank.com.br/working-with-clojure-at-nubank/
https://tech.redplanetlabs.com/2020/09/02/clojure-faster/
https://stackoverflow.com/questions/7593975/why-clojure-lisp-programs-are-faster-than-other-dynamic-languages

## Roll your own - execute Clojure online:

https://www.jdoodle.com/execute-clojure-online/

